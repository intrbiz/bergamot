<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<bergamot site="bergamot.template">
    
    <host name="generic-host" template="yes">
        <summary>Generic Host</summary>
        <notifications enabled="yes" time-period="24x7" all-engines="yes"/>
        <notify teams="admins"/>
        <state failed-after="4" recovers-after="10"/>
        <check-command command="check-host-alive"/>
        <schedule every="5" retry-every="1" time-period="24x7"/>
    </host>
    
    <host name="linux-server" extends="generic-host" template="yes" groups="linux-servers">
        <summary>Linux Server</summary>
        <notify teams="linux-admins"/>
        <!-- Services -->
        <service extends="memory"            groups="linux-services" />
        <service extends="load"              groups="linux-services" />
        <service extends="ping"              groups="linux-services" />
        <service extends="users"             groups="linux-services" />
        <service extends="zombie_procs"      groups="linux-services" />
        <service extends="total_procs"       groups="linux-services" />
        <service extends="disk_space_root"   groups="linux-services" />
        <service extends="service_ssh"       groups="linux-services" />
        <service extends="local_ntp_offset"  groups="linux-services" />
    </host>
    
    <host name="web-server" extends="linux-server" template="yes" groups="web-servers">
        <summary>Web Server</summary>
        <notify teams="web-admins"/>
    </host>
    
    <host name="db-server" extends="linux-server" template="yes" groups="db-servers">
        <summary>DB Server</summary>
        <notify teams="db-admins"/>
    </host>
    
    <host name="vm-host-server" extends="linux-server" template="yes"groups="vm-servers">
        <summary>VM Host Server</summary>
    </host>
    
    <host name="nginx-server" extends="web-server" template="yes" groups="web-servers">
        <summary>Web Server (Nginx)</summary>
        <service extends="service_nginx"  groups="linux-services" />
    </host>
    
    <host name="apache-server" extends="web-server" template="yes" groups="web-servers">
        <summary>Web Server (Apache)</summary>
        <service extends="service_nginx"  groups="linux-services" />
    </host>
    
    <host name="mysql-server" extends="db-server" template="yes" groups="db-servers">
        <summary>DB Server (MySQL)</summary>
        <service extends="service_mysql"  groups="db-services" />
    </host>
    
    <host name="postgresql-server" extends="db-server" template="yes" groups="db-servers">
        <summary>DB Server (PostgreSQL)</summary>
        <service extends="service_postgresql"  groups="db-services" />
    </host>

    <host name="network-device" extends="generic-host" template="yes" groups="network-devices">
        <summary>Network Device</summary>
        <notify teams="network-admins"/>
    </host>
    
    <host name="snmp-network-device" extends="network-device" template="yes" groups="network-devices">
        <summary>Network Device (SNMP)</summary>
        <notify teams="network-admins"/>
        <!-- Services -->
        <service extends="snmp_description" groups="network-services"/>
        <service extends="snmp_name"        groups="network-services"/>
        <service extends="snmp_location"    groups="network-services"/>
        <service extends="snmp_contact"     groups="network-services"/>
        <service extends="snmp_uptime"      groups="network-services"/>
    </host>
    
    <host name="router" extends="network-device" template="yes" groups="routers">
        <summary>Router</summary>
    </host>
    
    <host name="switch" extends="network-device" template="yes" groups="switches">
        <summary>Switch</summary>
    </host>
    
</bergamot>
