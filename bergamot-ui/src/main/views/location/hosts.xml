<!DOCTYPE balsa SYSTEM "http://balsa.intrbiz.net/balsa.dtd">
<?RenderLibrary com.intrbiz.balsa?>
<!-- The index view -->
<fragment xmlns="com.intrbiz.balsa" title="Location #{location.summary}">
	<div class="row">
		<data-set var="location" value="#{locations}">
			<include view="include/location"/>
		</data-set>
	</div>
	
	<div class="row">
		<data-set var="check" value="#{hosts}">
			<include view="include/check"/>
		</data-set>
	</div>
	
	<script type="text/javascript">
		require(["bergamot/lib/util/console-log", "bergamot/lib/ui/check-state", "bergamot/lib/data/api-driver"], function(bergamot_console_log, bergamot_ui_server_state, bergamot_api_driver)
		{
		    bergamot_console_log.attachTo(document);

		    bergamot_ui_server_state.attachTo("div.check");

		    bergamot_api_driver.attachTo(document, {
				url: "ws://127.0.0.1:8081/websocket",
		    });
		});
	</script>
	
</fragment>